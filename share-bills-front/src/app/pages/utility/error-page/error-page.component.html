<section class="error-wrap" role="main" aria-labelledby="err-title">
  <div class="illustration" aria-hidden="true">
    <!-- Simple inline SVG with a gentle float animation -->
    <svg viewBox="0 0 240 160">
      <defs>
        <linearGradient id="g" x1="0" x2="1">
          <stop offset="0" stop-color="#007F9F" stop-opacity="0.15"/>
          <stop offset="1" stop-color="#007F9F" stop-opacity="0.45"/>
        </linearGradient>
      </defs>
      <ellipse cx="120" cy="130" rx="70" ry="12" fill="rgba(0,0,0,0.06)"/>
      <g class="float">
        <rect x="50" y="30" width="140" height="80" rx="12" fill="url(#g)"/>
        <circle cx="80" cy="55" r="8" fill="#fff" opacity="0.9"/>
        <rect x="95" y="50" width="70" height="10" rx="5" fill="#fff" opacity="0.9"/>
        <rect x="70" y="70" width="100" height="8" rx="4" fill="#fff" opacity="0.85"/>
        <rect x="70" y="84" width="60" height="8" rx="4" fill="#fff" opacity="0.8"/>
      </g>
    </svg>
  </div>

  <div class="text">
    <div class="code">{{ code }}</div>
    <h1 id="err-title" class="title">{{ title }}</h1>
    <p class="message">{{ message }}</p>

    <div class="actions">
      <a *ngIf="primaryLink; else buttonOnly"
         [routerLink]="primaryLink">
        <app-button variant="primary" [label]="primaryLabel"></app-button>
      </a>
      <ng-template #buttonOnly>
        <app-button variant="primary" [label]="primaryLabel" (clicked)="retry()"></app-button>
      </ng-template>

      <a *ngIf="secondaryLink"
         [routerLink]="secondaryLink">
        <app-button variant="secondary" [label]="secondaryLabel || 'Back'"></app-button>
      </a>

      <app-button *ngIf="showRetry && primaryLink"
                  variant="secondary"
                  label="Retry"
                  (clicked)="retry()"></app-button>
    </div>
  </div>
</section>
