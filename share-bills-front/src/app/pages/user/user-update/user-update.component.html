<div class="page">
    <div class="card">
        <h1 class="title">Update Profile</h1>

        <app-form #f="appForm" [form]="form" [submitLabel]="loading ? 'Updatingâ€¦' : 'Update'" [loading]="loading"
             (formSubmit)="onSubmit($event)" (formCancel)="onCancel()">
            <app-input-field label="Name" type="text" [required]="true" [submitted]="f.submitted"
                [placeholder]="'Enter your name'" [value]="form.controls.name.value"
                (valueChange)="onInputString('name', $event)"></app-input-field>

            <app-input-field label="Email" type="email" [required]="true" [submitted]="f.submitted"
                [placeholder]="'Enter your email'" [value]="form.controls.email.value"
                (valueChange)="onInputString('email', $event)"></app-input-field>

            <app-image-uploader [emitOnSelect]="true" [disabled]="loading" accept="image/png,image/jpeg,image/webp"
                label="Avatar" (fileChange)="onAvatarSelected($event)" (error)="onAvatarError($event)">
            </app-image-uploader>
            <p class="error" *ngIf="error">{{ error }}</p>
        </app-form>
    </div>
</div>

