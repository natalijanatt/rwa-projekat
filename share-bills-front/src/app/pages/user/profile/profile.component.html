<div class="page">
  <!-- Loading -->
  <div class="card" *ngIf="!user">
    <h2 class="title">Loading profileâ€¦</h2>
  </div>

  <div class="card" *ngIf="user as u">
    <h1 class="title heading">{{ u.name || 'User' }}</h1>

    <div class="details">
      <div class="left">

        <ng-container *ngIf="u.imagePath; else initials">
          <img [src]="u.imagePath" alt="User avatar" style="width:80px;height:80px;border-radius:50%;object-fit:cover" />
        </ng-container>
        <ng-template #initials>
          <div aria-hidden="true"
          style="width:100%;aspect-ratio:1;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;background:#333;color:#fff">
          {{ (u.name || u.email).charAt(0) | uppercase }}
        </div>
      </ng-template>
    </div>
    <div class="right">
    <div>
      <div class="title">Email</div>
      <div style="color:#ddd">{{ u.email }}</div>
    </div>

    <div *ngIf="u.name">
      <div class="title">Full name</div>
      <div style="color:#ddd">{{ u.name }}</div>
    </div>

    <div>
      <div class="title">Member since</div>
      <div style="color:#ddd">{{ u.createdAt | date:'mediumDate' }}</div>
    </div>

    <!-- Actions -->
    <div style="display:flex; gap:.5rem; margin-top:.5rem">
      <app-button label="Update" routerLink="/app"/>
      <app-button label="Log out" [variant]="'danger'" routerLink="/logout"/>
    </div>
    </div>
     </div>
  </div>
</div>
