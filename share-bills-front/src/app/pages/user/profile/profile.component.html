<div class="profile">
  <!-- Loading / skeleton -->
  <div class="card skeleton" *ngIf="!user">
    <div class="card-header">
      <div class="avatar skeleton-box"></div>
      <div class="titles">
        <div class="line skeleton-box w-160"></div>
        <div class="line skeleton-box w-220"></div>
      </div>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="label skeleton-box w-80"></div>
        <div class="value skeleton-box w-200"></div>
      </div>
      <div class="row">
        <div class="label skeleton-box w-80"></div>
        <div class="value skeleton-box w-240"></div>
      </div>
      <div class="row">
        <div class="label skeleton-box w-120"></div>
        <div class="value skeleton-box w-160"></div>
      </div>
    </div>
  </div>

  <!-- Loaded state -->
  <div class="card" *ngIf="user as u">
    <div class="card-header">
      <div class="avatar" aria-hidden="true" *ngIf="!u.imagePath">
        {{ (u.name || u.email).charAt(0) | uppercase }}
      </div>
      <img class="avatar" *ngIf="u.imagePath" [src]="u.imagePath" alt="User Avatar" />
      <div class="titles">
        <h1 class="title">{{ u.name || 'User' }}</h1>
        <p class="subtitle">{{ u.email }}</p>
      </div>
    </div>

    <div class="card-body">
      <div class="row">
        <div class="label">Full name</div>
        <div class="value">{{ u.name }}</div>
      </div>
      <div class="row">
        <div class="label">Email</div>
        <div class="value">{{ u.email }}</div>
      </div>
      <div class="row">
        <div class="label">Member since</div>
        <div class="value">{{ u.createdAt | date: 'mediumDate' }}</div>
      </div>
    </div>

    <div class="card-footer">
      <button class="btn outline" routerLink="/app">Back to app</button>
      <button class="btn danger" routerLink="/logout">Log out</button>
    </div>
  </div>
</div>
